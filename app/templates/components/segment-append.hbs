<!--
    Copyright (C) 2017  Stratumn SAS

    This Source Code Form is subject to the terms of the Mozilla Public
    License, v. 2.0. If a copy of the MPL was not distributed with this
    file, You can obtain one at http://mozilla.org/MPL/2.0/.
-->

{{#paper-dialog clickOutsideToClose=true onClose=(action "onClose")}}
  {{#paper-form onSubmit=(action "onSubmit") as |form|}}
    {{#paper-toolbar}}
      <div class="md-toolbar-tools">
        <h2>Append segment</h2>
        <span class="flex"></span>
        {{#paper-button iconButton=true onClick=(action "onClose")}}
          {{paper-icon icon="close"}}
        {{/paper-button}}
      </div>
    {{/paper-toolbar}}

    {{#paper-dialog-content}}
      {{#if error}}
        <p class="error"><strong>Error {{error.status}}:</strong> {{error.message}}</p>
      {{/if}}
      {{#paper-select
        block=true
        placeholder="Action"
        selected=selectedAction
        onChange=(action "changeSelectedAction")
        options=appendActions
        as |action|
      }}
        {{action.name}}
      {{/paper-select}}
      {{#each args as |arg|}}
        {{paper-input label=arg.name value=arg.value block=true onChange=(action (mut arg.value))}}
      {{/each}}
    {{/paper-dialog-content}}

    {{#paper-dialog-actions class="layout-row"}}
      <span class="flex"></span>
      {{#paper-button type="submit" primary=true}}Submit{{/paper-button}}
    {{/paper-dialog-actions}}
  {{/paper-form}}
{{/paper-dialog}}
